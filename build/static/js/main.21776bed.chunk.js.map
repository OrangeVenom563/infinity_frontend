{"version":3,"sources":["component/Navbar.component.jsx","screens/Home.screen.jsx","screens/SignIn.screen.jsx","screens/SignUp.screen.jsx","screens/Profile.screen.jsx","screens/CreatePost.screen.jsx","reducers/userReducer.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","history","useHistory","RenderList","to","onClick","localStorage","clear","type","push","className","id","Home","useState","data","setData","useEffect","fetch","headers","Authorization","getItem","then","res","json","result","posts","map","item","console","log","posted","postedBy","_id","name","src","photo","alt","style","color","likes","includes","method","body","JSON","stringify","postId","newData","catch","err","postid","filter","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","SignIn","_","password","setPassword","email","setEmail","emailRegex","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","SignUp","setName","message","Profile","mypic","setPics","mypost","maxWidth","margin","display","justifyContent","borderBottom","width","height","borderRadius","CreatePost","setTitle","setBody","image","setImage","url","setUrl","padding","textAlign","files","FormData","append","postDetails","reducer","action","createContext","Routing","parse","exact","path","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.21776bed.chunk.js","sourcesContent":["import React, {useContext} from \"react\";\r\nimport { Link,useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nconst NavBar = () => {\r\n  const {state,dispatch} = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const RenderList = () => {\r\n    if(state){\r\n      return [\r\n        // <li><Link to=\"/\">Home</Link></li>,\r\n        <li><Link to=\"/profile\">Profile</Link></li>,\r\n        <li><Link to=\"/createpost\">Create Post</Link></li>,\r\n        <li><a onClick={()=>{\r\n          localStorage.clear(); \r\n          dispatch({type:\"CLEAR\"})\r\n          history.push(\"/signin\")\r\n          }}>Logout</a></li>\r\n      ]\r\n    }\r\n    else{\r\n      return [\r\n      <li><Link to=\"/signin\">Sign-In</Link></li>,\r\n      <li><Link to=\"/signup\">Sign-up</Link></li>\r\n    ]\r\n    }\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        <Link to=\"/\" className=\"brand-logo\"> Infinity </Link>\r\n        {/* hide-on-med-and-down */}\r\n        <ul id=\"nav-mobile\" className=\"right \">\r\n          <RenderList/>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {UserContext} from '../App';\r\n\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  const {state} = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/allpost\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n      fetch(\"/like\",{\r\n          method:\"put\",\r\n          headers:{\r\n              \"Content-Type\":\"application/json\",\r\n              \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n          },\r\n          body:JSON.stringify({\r\n              postId:id\r\n          })\r\n      })\r\n      .then(res=>res.json())\r\n      .then(result=>{\r\n          console.log(\"this is result\",result)\r\n          const newData = data.map(item=>{\r\n              if(item._id===result._id){\r\n                  return result\r\n              }\r\n              else{\r\n                  return item\r\n              }\r\n          })\r\n          setData(newData)\r\n      })\r\n      .catch(err=>{console.log(err)})\r\n  }\r\n\r\n  const unlikePost = (id) => {\r\n    fetch(\"/unlike\",{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            postId:id\r\n        })\r\n    })\r\n    .then(res=>res.json())\r\n      .then(result=>{\r\n          console.log(result)\r\n          const newData = data.map(item=>{\r\n              if(item._id===result._id){\r\n                  return result\r\n              }\r\n              else{\r\n                  return item\r\n              }\r\n          })\r\n          setData(newData)\r\n      })\r\n      .catch(err=>{console.log(err)})\r\n    \r\n}\r\n\r\nconst makeComment = (text,postId)=>{\r\n  fetch(\"/comment\",{\r\n    method:\"put\",\r\n    headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    },\r\n    body:JSON.stringify({\r\n        postId,\r\n        text\r\n    })\r\n})\r\n.then(res=>res.json())\r\n.then(result=>{\r\n    console.log(\"this is result\",result)\r\n    const newData = data.map(item=>{\r\n        if(item._id===result._id){\r\n            return result\r\n        }\r\n        else{\r\n            return item\r\n        }\r\n    })\r\n    setData(newData)\r\n})\r\n.catch(err=>{console.log(err)})\r\n}\r\n\r\nconst deletePost = (postid)=>{\r\n  fetch(`/deletepost/${postid}`,{\r\n    method:\"delete\",\r\n    headers:{\r\n      \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(result=>{\r\n    console.log(result);\r\n    const newData = data.filter(item=>{\r\n      return item._id !== result._id;\r\n    })\r\n    setData(newData);\r\n  })\r\n  .catch(err=>console.log(err))\r\n}\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {data.map((item) => {\r\n        console.log({posted:item.postedBy._id,state:state._id,item:item._id});\r\n        return (\r\n          <div className=\"card home-card\" key={item._id}>\r\n            <h5>{item.postedBy.name}</h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo} alt=\"post pic\" />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              \r\n              <i className=\"material-icons\" style={{ color: \"red\" }}>favorite</i>\r\n              { \r\n                  item.likes.includes(state._id)?\r\n                  <i className=\"material-icons\" onClick={()=>{unlikePost(item._id)}}>thumb_down</i>:\r\n                  <i className=\"material-icons\" onClick={()=>{likePost(item._id)}}>thumb_up</i>\r\n              }\r\n              {\r\n                item.postedBy._id === state._id &&\r\n                <i className=\"material-icons right\" onClick={()=>{deletePost(item._id)}}>delete</i>\r\n              }\r\n              <h6>{item.likes.length} Likes</h6>\r\n              <h6>{item.title}</h6>\r\n              <p>{item.body}</p>\r\n              {\r\n                item.comments.map(record=>{\r\n                  return(\r\n                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name} </span>{record.text}</h6>\r\n                  )\r\n                })\r\n              }\r\n              <form onSubmit={(e)=>{\r\n                e.preventDefault();\r\n                makeComment(e.target[0].value,item._id);\r\n                e.target[0].value='';\r\n                }} >\r\n              <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {UserContext} from '../App'\r\nimport M from \"materialize-css\";\r\n\r\nconst SignIn = () => {\r\n  const {_,dispatch} = useContext(UserContext);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const history = useHistory();\r\n  const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  const PostData = () => {\r\n    if (!emailRegex.test(email)) \r\n      {\r\n      M.toast({\r\n        html: \"Invalid Email Format\",\r\n        classes: \"#c62828 red darken-3\",\r\n      });\r\n      return;\r\n    }\r\n    // console.log(name, email, password);\r\n    fetch(\"/signin\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({password,email}),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\r\n        } else {\r\n          localStorage.setItem(\"jwt\",data.token);\r\n          localStorage.setItem(\"user\",JSON.stringify(data.user));\r\n          dispatch({type:\"USER\",payload:data.user})\r\n          M.toast({ html:\"Sign-In success\", classes: \"#43a047 green darken-1\" });\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"mycard\">\r\n      <div className=\"card auth-card input-field\">\r\n        <h2>Infinity</h2>\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n\r\n        <button\r\n          className=\"btn waves-effect waves-light #645f6 blur\"\r\n          onClick={() => PostData()}\r\n        >\r\n          Sign-In\r\n        </button>\r\n\r\n        <h6>\r\n          <Link to=\"/signup\">Don't have an account? Sign-In</Link>\r\n        </h6>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nconst SignUp = () => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const history = useHistory();\r\n  const emailRegex = (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\r\n  const PostData = () => {\r\n    if (!emailRegex.test(email)) {\r\n      M.toast({\r\n        html: \"Invalid Email Format\",\r\n        classes: \"#c62828 red darken-3\",\r\n      });\r\n      return;\r\n    }\r\n    // console.log(name, email, password);\r\n    fetch(\"/signup\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({name,password,email}),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\r\n        } else {\r\n          M.toast({ html: data.message, classes: \"#43a047 green darken-1\" });\r\n          history.push(\"/signin\");\r\n        }\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"mycard\">\r\n      <div className=\"card auth-card input-field\">\r\n        <h2>Infinity</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n\r\n        <button\r\n          className=\"btn waves-effect waves-light #645f6 blur\"\r\n          onClick={() => PostData()}\r\n        >\r\n          Sign-Up\r\n        </button>\r\n        \r\n        <h6>\r\n          <Link to=\"/signin\">Already have an account?</Link>\r\n        </h6>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport {UserContext} from '../App';\r\n\r\nconst Profile = () => {\r\n  const [mypic, setPics] = useState([]);\r\n  const {state} = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/mypost\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPics(result.mypost);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div style={{ maxWidth: \"550px\", margin: \"auto\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          margin: \"18px 0px\",\r\n          borderBottom: \"1px solid grey\",\r\n        }}\r\n      >\r\n        <div>\r\n          <img\r\n            style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\r\n            src=\"https://cdn.sprintally.com/img/2018/05/kristina-pimenova4.jpg\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <h4>{state.name}</h4>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <h6>40 posts</h6>\r\n            <h6>52 followers</h6>\r\n            <h6>31 following</h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"gallery\">\r\n        {mypic.map((item) => (\r\n          <img key={item._id} className=\"item\" src={item.photo} alt={item.title} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import env from \"react-dotenv\";\r\nimport { useHistory } from \"react-router\";\r\nimport M from \"materialize-css\";\r\n\r\nconst CreatePost = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n   useEffect(() => {\r\n      if (url) {\r\n        fetch(\"/createpost\", {\r\n          method: \"post\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n          },\r\n          body: JSON.stringify({\r\n            title,\r\n            body,\r\n            photo: url,\r\n          }),\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.error) {\r\n              M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\r\n            } else {\r\n              M.toast({\r\n                html: \"Created Post Successfully\",\r\n                classes: \"#43a047 green darken-1\",\r\n              });\r\n              history.push(\"/\");\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    }, [url]);\r\n\r\n  const postDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"infinity-app\");\r\n    data.append(\"cloud_name\", \"dmwtip1la\");\r\n\r\n    // console.log(localStorage.getItem(\"jwt\"));\r\n    // console.log(title,body,url);\r\n    fetch(\"https://api.cloudinary.com/v1_1/dmwtip1la/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div\r\n      className=\"card input-field\"\r\n      style={{\r\n        margin: \"10px auto\",\r\n        maxWidth: \"500px\",\r\n        padding: \"20px\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"title\"\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"body\"\r\n        onChange={(e) => setBody(e.target.value)}\r\n      />\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"btn\">\r\n          <span>Upload Image</span>\r\n          <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <button\r\n        className=\"btn waves-effect waves-light #64b5f6 clue darken-1\"\r\n        onClick={() => postDetails()}\r\n      >\r\n        Submit Post\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","export const initialState = null;\r\n\r\nexport const reducer = (state,action)=>{\r\n    if(action.type ===\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type ===\"CLEAR\"){\r\n        return null\r\n    }\r\n    return state\r\n}","import \"./App.css\";\nimport React, { useEffect, createContext, useReducer, useContext } from \"react\";\nimport { Route, Switch, BrowserRouter, useHistory } from \"react-router-dom\";\nimport NavBar from \"./component/Navbar.component\";\nimport Home from \"./screens/Home.screen\";\nimport SignIn from \"./screens/SignIn.screen\";\nimport SignUp from \"./screens/SignUp.screen\";\nimport Profile from \"./screens/Profile.screen\";\nimport CreatePost from \"./screens/CreatePost.screen\";\nimport { reducer, initialState } from \"./reducers/userReducer\";\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n  const history = useHistory();\n  const {_,dispatch} = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({type:\"USER\",payload:user})\n      history.push(\"/\");\n    } else {\n      history.push(\"/signin\");\n    }\n  },[]);\n\n  return (\n    <Switch exact path=\"/\">\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route exact path=\"/signin\">\n        <SignIn />\n      </Route>\n      <Route exact path=\"/signup\">\n        <SignUp />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route exact path=\"/createpost\">\n        <CreatePost />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <NavBar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n        <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}